(()=>{"use strict";const t=window.React,e=window.wp.blocks,n=JSON.parse('{"UU":"brandy/testimonial-card"}'),o=window.wp.blockEditor,i=window.wp.data,r=window.wp.element,a={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var l,s=new Uint8Array(16);function c(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(s)}for(var d=[],u=0;u<256;++u)d.push((u+256).toString(16).slice(1));const p=function(t,e,n){if(a.randomUUID&&!e&&!t)return a.randomUUID();var o=(t=t||{}).random||(t.rng||c)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=o[i];return e}return function(t,e=0){return(d[t[e+0]]+d[t[e+1]]+d[t[e+2]]+d[t[e+3]]+"-"+d[t[e+4]]+d[t[e+5]]+"-"+d[t[e+6]]+d[t[e+7]]+"-"+d[t[e+8]]+d[t[e+9]]+"-"+d[t[e+10]]+d[t[e+11]]+d[t[e+12]]+d[t[e+13]]+d[t[e+14]]+d[t[e+15]]).toLowerCase()}(o)};function m(t){return"brandy/testimonial-name"===t}function b(t){return"brandy/testimonial-description"===t}function y(t){return"brandy/testimonial-content"===t}function g(t){return"brandy/testimonial-avatar"===t}function w(t){return"brandy/testimonial-rating"===t}function f(t,e){let n=null;return e.forEach((e=>{if(!n&&(e.name===t&&(n=e),e.innerBlocks&&e.innerBlocks.length>0)){const o=f(t,e.innerBlocks);o&&(n=o)}})),n}const k=window.wp.components;function h({context:e,clientId:n}){return(0,t.createElement)(o.BlockControls,null,(0,t.createElement)(k.ToolbarGroup,null,(0,t.createElement)(k.Button,{isPrimary:!0,onClick:()=>{window.dispatchEvent(new CustomEvent("brandySyncTestimonialsLayout",{detail:{rootId:e.rootId,singleId:n,syncBlocks:["all"]}}))}},"Sync all testinomial card")))}const v=function({name:t="Anthony Nguyen",description:e="Via google.com",content:n="Making a type specimen book, also the leap into electronic typesetting remain essentially unchanged or avoids pleasure itself the master builder of is human happiness.",ratingPoint:o=5,avatarUrl:i="https://images.wpbrandy.com/uploads/blocks-test-img-1-min.png"}){return[["core/group",{},[["core/group",{layout:{type:"flex",flexWrap:"nowrap",justifyContent:"left"},style:{spacing:{margin:{top:0,bottom:0,right:0,left:0},padding:{top:0,bottom:0,right:0,left:0},blockGap:"20px"}}},[["brandy/testimonial-avatar",{},[["core/image",{width:"70px",height:"70px",scale:"cover",style:{border:{radius:"100%"}},url:i}]]],["core/group",{style:{spacing:{blockGap:"3px"}}},[["brandy/testimonial-name",{name:t,style:{typography:{fontSize:"18px",fontStyle:"normal",fontWeight:"600"},color:{text:"#122940"},elements:{link:{color:{text:"#122940"}}}}}],["brandy/testimonial-description",{description:e,style:{typography:{fontSize:"14px"},color:{text:"#7f8287"},elements:{link:{color:{text:"#7f8287"}}}}}]]]]],["brandy/testimonial-content",{content:n,style:{typography:{fontSize:"24px",fontStyle:"italic",fontWeight:"400"}}}],["brandy/testimonial-rating",{ratingPoint:o,size:"25px",activeColor:"#ffac70"}]]]]}({});function B(e){const{isSave:n=!1,clientId:i}=e,r={className:"swiper-slide",...n?{}:{onClick:function(t){t.target.classList.contains("wp-block-brandy-testimonial-card")&&window.wp.data.dispatch("core/block-editor").selectBlock(i)}}},a=n?o.useBlockProps.save(r):(0,o.useBlockProps)(r),l=wp.blocks.getBlockTypes().map((t=>t.name)).filter((t=>"brandy/testimonials"!==t)),s=n?o.useInnerBlocksProps.save():(0,o.useInnerBlocksProps)({},{template:v,allowedBlocks:l});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{...a},(0,t.createElement)("div",{...s})))}(0,e.registerBlockType)(n.UU,{edit:function(e){const{context:n,clientId:a}=e,{replaceInnerBlocks:l}=(0,i.useDispatch)(o.store);(0,r.useEffect)((()=>{function t(t){(({rootId:t,singleId:e,ev:n,blockId:o,replaceInnerBlocks:i})=>{if(e!=n.detail.singleId&&t==n.detail.rootId){var r;const a=window.wp.data.select("core/block-editor").getBlocks(e),l=null!==(r=n.detail.syncBlocks)&&void 0!==r?r:["all"],s=l.includes("all")?window.wp.data.select("core/block-editor").getBlocks(n.detail.singleId):a;if(l.includes("all")){const B=window.wp.data.select("core/block-editor").getBlock(n.detail.singleId);window.wp.data.dispatch("core/block-editor").updateBlock(e,{attributes:JSON.parse(JSON.stringify(B.attributes))})}let c,d,u,k,h;if(l.includes("all"))c=f("brandy/testimonial-name",a),d=f("brandy/testimonial-description",a),u=f("brandy/testimonial-content",a),k=f("brandy/testimonial-avatar",a),h=f("brandy/testimonial-rating",a);else{const I=window.wp.data.select("core/block-editor").getBlock(n.detail.blockId);m(I?.name)&&l.includes("name")&&(c=I),b(I?.name)&&l.includes("description")&&(d=I),y(I?.name)&&l.includes("content")&&(u=I),g(I?.name)&&l.includes("avatar")&&(k=I),w(I?.name)&&l.includes("rating")&&(h=I)}function v(t){return t.forEach((t=>t)),t.map((t=>(m(t?.name)&&c&&(l.includes("all")?t.attributes.name=c.attributes.name:t.attributes={...c.attributes,name:t.attributes.name}),b(t?.name)&&d&&(l.includes("all")?t.attributes.description=d.attributes.description:t.attributes={...d.attributes,description:t.attributes.description}),y(t?.name)&&u&&(l.includes("all")?t.attributes.content=u.attributes.content:t.attributes={...u.attributes,content:t.attributes.content}),g(t?.name)&&k&&(l.includes("all")?t.innerBlocks[0].attributes.url=k.innerBlocks[0].attributes.url:t.innerBlocks[0].attributes={...k.innerBlocks[0].attributes,url:t.innerBlocks[0].attributes.url}),w(t?.name)&&h&&(l.includes("all")?t.attributes.ratingPoint=h.attributes.ratingPoint:t.attributes={...h.attributes,ratingPoint:t.attributes.ratingPoint}),l.includes("all")&&(t.clientId=p()),t.innerBlocks&&t.innerBlocks.length>0&&(t.innerBlocks=v(t.innerBlocks)),t)))}i(e,v(JSON.parse(JSON.stringify(s))))}})({singleId:a,ev:t,rootId:n.rootId,replaceInnerBlocks:l})}return window.addEventListener("brandySyncTestimonialsLayout",t),()=>{window.removeEventListener("brandySyncTestimonialsLayout",t)}}),[a,l,n.rootId]);const s=(0,r.useMemo)((()=>({singleTestimonialId:a,rootId:n.rootId})),[a,n.rootId]);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(h,{...e}),(0,t.createElement)(o.BlockContextProvider,{value:s},(0,t.createElement)(B,{...e})))},save:function(e){return(0,t.createElement)(B,{...e,isSave:!0})},icon:(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M20.9116 7.53174C20.881 7.14732 20.8547 6.92766 20.8547 6.92766C20.8547 4.20509 18.5699 2 15.7537 2H8.10103C5.51225 2 3.3717 3.86292 3.04373 6.27923C3.01531 6.49256 3 6.70799 3 6.92977V12.3496V12.7762C3 13.5936 3.20553 14.3646 3.57067 15.0426C4.41902 16.6246 6.13102 17.7039 8.10103 17.7039H15.2661C15.3624 18.8821 15.002 20.2775 14.7213 21.1509C14.6011 21.5248 14.9203 21.9087 15.296 21.7941C17.4053 21.1504 18.7547 19.5878 19.6063 17.7039C20.4371 15.8684 20.7957 13.7309 20.9313 11.8448C21.0624 9.97972 20.9772 8.36604 20.9116 7.53174Z",fill:"white",stroke:"#0061FE","stroke-width":"1.5","stroke-miterlimit":"10"}),(0,t.createElement)("path",{d:"M11.9978 13.6C10.0271 13.6 8.24694 12.5895 7.56758 11.0862C7.39245 10.6994 7.56951 10.2482 7.96211 10.0757C8.35279 9.90317 8.81276 10.0776 8.98789 10.4643C9.42091 11.4255 10.6314 12.0701 11.9978 12.0701C13.37 12.0701 14.5806 11.4217 15.0117 10.4568C15.1849 10.07 15.6429 9.89559 16.0355 10.0643C16.4281 10.2349 16.6071 10.6861 16.4339 11.0729C15.7584 12.5838 13.9763 13.6 11.9978 13.6Z",fill:"#0061FE"}))})})();