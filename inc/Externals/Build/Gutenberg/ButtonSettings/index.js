(()=>{"use strict";const e=window.React,{__experimentalToolsPanelItem:o,__experimentalBorderBoxControl:r,__experimentalToolsPanel:t}=wp.components,{PanelColorSettings:n}=wp.blockEditor,{__}=wp.i18n;function l(l){const{attributes:a,setAttributes:s}=l,{hoverBackgroundColor:c,hoverTextColor:d,hoverBorder:u}=a;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n,{title:__("Hover colors","brandy-blocks"),initialOpen:!1,enableAlpha:!0,colorSettings:[{value:c,onChange:e=>s({hoverBackgroundColor:e}),label:__("Background hover","brandy-blocks")},{value:d,onChange:e=>s({hoverTextColor:e}),label:__("Text hover","brandy-blocks")}]}),(0,e.createElement)(t,{label:__("External Border & Shadow")},(0,e.createElement)(o,{hasValue:()=>!0,label:__("Border hover"),onDeselect:()=>{}},(0,e.createElement)(r,{colors:wp.data.select("core/editor").getEditorSettings().colors,label:__("Border hover"),value:u,onChange:e=>{s({hoverBorder:e})}}))))}function a(e){return"core/button"===e||"woocommerce/product-button"===e}wp.hooks.addFilter("blocks.registerBlockType","brandy-blocks/button-attribute",(function(e,o){return void 0===e.attributes?e:a(o)?(e.attributes=Object.assign(e.attributes,{hoverBackgroundColor:{type:"string",default:""},hoverTextColor:{type:"string",default:""},hoverBorder:{type:"object",default:{}}}),e):e}));const s=wp.compose.createHigherOrderComponent((o=>r=>{const{Fragment:t}=wp.element,{InspectorControls:n}=wp.blockEditor,{isSelected:s,name:c}=r,d=a(c);return(0,e.createElement)(t,null,(0,e.createElement)(o,{...r}),s&&d&&(0,e.createElement)(n,null,(0,e.createElement)(l,{...r})))}),"ButtonSettingsControls");wp.hooks.addFilter("editor.BlockEdit","brandy-blocks/button-settings-controls",s);const c=wp.compose.createHigherOrderComponent((o=>r=>{var t;const{attributes:n,name:l}=r,s=null!==(t=r.wrapperProps)&&void 0!==t?t:{};return a(l)&&(s.style={...s.style,...d(n)}),(0,e.createElement)(o,{...r,wrapperProps:{...s}})}),"addExternalButtonStyle");function d(e){var o,r;const t={};var n;return(null!==(o=e.className)&&void 0!==o?o:"").includes("is-style-outline"),e.hoverTextColor&&(t["--button-hover-color"]=e.hoverTextColor),e.hoverBackgroundColor&&(t["--button-hover-background-color"]=e.hoverBackgroundColor),Object.keys(null!==(r=e.hoverBorder)&&void 0!==r?r:{}).length>0&&(Object.keys(null!==(n=e.hoverBorder)&&void 0!==n?n:{}).includes("top")?["top","bottom","left","right"].forEach((o=>{t[`--button-hover-border-${o}-c`]=e.hoverBorder[o].color,t[`--button-hover-border-${o}-w`]=e.hoverBorder[o].width,t[`--button-hover-border-${o}-s`]=e.hoverBorder[o].style})):(t["--button-hover-border-c"]=e.hoverBorder.color,t["--button-hover-border-w"]=e.hoverBorder.width,t["--button-hover-border-s"]=e.hoverBorder.style)),t}wp.hooks.addFilter("editor.BlockListBlock","brandy-blocks/external-button-settings",c),wp.hooks.addFilter("blocks.getSaveContent.extraProps","brandy-blocks/button-settings-props",(function(e,o,r){return a(o.name)?(e.style={...e.style,...d(r)},e):e}))})();